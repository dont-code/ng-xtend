@let allSubNames=subNames();

@if (displayInline()) {
  @if (canCalculateDisplayString()) {
    {{displayString()}}
  }@else {
    <p-table [columns]="allSubNames" [value]="[{}]">
      <ng-template #header>
        <tr>
          @for (subName of allSubNames; track subName) {
            <th>{{subName}}</th>
          }
        </tr>
      </ng-template>
      <ng-template #body>
        <tr>
        @for (subName of allSubNames; track subName) {
          <td><xt-render-sub [context]="subContext(subName)"></xt-render-sub></td>
        }
        </tr>
      </ng-template>
    </p-table>
  }
} @else {
  <p-panel>
    @for (subName of allSubNames; track subName) {
      <div class="flex flex-nowrap gap-3">
        <div class="flex-none">{{subName}}</div>
        <div class="flex-auto"><xt-render-sub [context]="subContext(subName)"></xt-render-sub></div>
      </div>
    }
  </p-panel>

}
